<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Color volume overlap — voloverlap • pavo</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Color volume overlap — voloverlap" />

<meta property="og:description" content="Calculates the overlap between the volumes defined by two sets of points in cartesian
space." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pavo</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pavo-1-overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/pavo-2-importing_processing.html">Importing and Processing Data</a>
    </li>
    <li>
      <a href="../articles/pavo-3-analysing.html">Analysing Data</a>
    </li>
    <li>
      <a href="../articles/pavo-4-spectraldesc.html">Spectral Shape Descriptors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rmaia/pavo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Color volume overlap</h1>
    <small class="dont-index">Source: <a href='https://github.com/rmaia/pavo/blob/master/R/voloverlap.R'><code>R/voloverlap.R</code></a></small>
    <div class="hidden name"><code>voloverlap.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculates the overlap between the volumes defined by two sets of points in cartesian
space.</p>
    
    </div>

    <pre class="usage"><span class='fu'>voloverlap</span>(<span class='no'>tcsres1</span>, <span class='no'>tcsres2</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>interactive</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"blue"</span>, <span class='st'>"red"</span>, <span class='st'>"darkgrey"</span>), <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>new</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>montecarlo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>nsamp</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>psize</span> <span class='kw'>=</span> <span class='fl'>0.001</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tcsres1, tcsres2</th>
      <td><p>(required) data frame, possibly a result from the <code><a href='colspace.html'>colspace()</a></code>
function, containing
values for the 'x', 'y' and 'z' coordinates as columns (labeled as such)</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical. Should the volumes and points be plotted? (defaults to <code>FALSE</code>)</p></td>
    </tr>
    <tr>
      <th>interactive</th>
      <td><p>logical. If <code>TRUE</code>, uses the rgl engine for interactive plotting;
if <code>FALSE</code> then a static plot is generated.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>a vector of length 3 with the colors for (in order) the first volume,
the second volume, and the overlap.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>logical. should the two volumes be filled in the plot? (defaults to <code>FALSE</code>)</p></td>
    </tr>
    <tr>
      <th>new</th>
      <td><p>logical. Should a new plot window be called? If <code>FALSE</code>, volumes and their
overlap are plotted over the current plot (defaults to <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>montecarlo</th>
      <td><p>logical. If <code>TRUE</code>, Monte Carlo simulation is used instead of exact
solution (not recommended; defaults to <code>FALSE</code>)</p></td>
    </tr>
    <tr>
      <th>nsamp</th>
      <td><p>if <code>montecarlo = TRUE</code>, determines the number of points to be sampled.</p></td>
    </tr>
    <tr>
      <th>psize</th>
      <td><p>if <code>montecarlo = TRUE</code> and <code>plot = TRUE</code>, sets the size to plot the points
used in the Monte Carlo simulation.</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>if <code>plot = TRUE</code>, sets the line width for volume grids.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to the plot. See <code><a href='vol.html'>vol()</a></code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Calculates the overlap between the volumes defined by two set of points in
colorspace. The volume from the overlap is then given relative to:</p><ul>
<li><p><code>vsmallest</code> the volume of the overlap divided by the smallest of that defined
by the the two input sets of color points. Thus, if one of the volumes is entirely
contained within the other, this overlap will be <code>vsmallest = 1</code>.</p></li>
<li><p><code>vboth</code> the volume of the overlap divided by the combined volume of both
input sets of color points.</p></li>
</ul>

<p>The Monte Carlo solution is available mostly for legacy and benchmarking, and is not recommended
(see notes). If used, the output will be different:</p><ul>
<li><p><code>s_in1, s_in2</code> the number of sampled points that fall within each of the volumes
individually.</p></li>
<li><p><code>s_inboth</code> the number of sampled points that fall within both volumes.</p></li>
<li><p><code>s_ineither</code> the number of points that fall within either of the volumes.</p></li>
<li><p><code>psmallest</code> the proportion of points that fall within both volumes divided by the
number of points that fall within the smallest volume.</p></li>
<li><p><code>pboth</code> the proportion of points that fall within both volumes divided by the total
number of points that fall within both volumes.</p></li>
</ul>

<p>If the Monte Carlo solution is used, a number of points much greater than the default should be
considered (Stoddard &amp; Stevens(2011) use around 750,000 points, but more or fewer might be required
depending on the degree of overlap).</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Stoddard &amp; Stevens (2011) originally obtained the volume overlap through Monte Carlo
simulations of points within the range of the volumes, and obtaining the frequency of
simulated values that fall inside the volumes defined by both sets of color points.</p>
<p>Here we present an exact solution based on finding common vertices to both volumes
and calculating its volume. However, we also the Monte Carlo solution is available through
the <code>montecarlo=TRUE</code> option.</p>
<p>Stoddard &amp; Stevens (2011) also return the value of the overlap relative to one of
the volumes (in that case, the host species). However, for other applications
this value may not be what one expects to obtain if (1) the two
volumes differ considerably in size, or (2) one of the volumes is entirely contained
within the other. For this reason, we also report the volume relative to the union of
the two input volumes, which may be more adequate in most cases.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Stoddard, M. C., &amp; Prum, R. O. (2008). Evolution of avian plumage color
in a tetrahedral color space: A phylogenetic analysis of new world buntings. The
American Naturalist, 171(6), 755-776.</p>
<p>Stoddard, M. C., &amp; Stevens, M. (2011). Avian vision and the evolution of
egg color mimicry in the common cuckoo. Evolution, 65(7), 2004-2013.</p>
<p>Villeger, S., Novack-Gottshall, P. M., &amp; Mouillot, D. (2011). The
multidimensionality of the niche reveals functional diversity changes in benthic
marine biotas across geological time. Ecology Letters, 14(6), 561-568.</p>
<p>Maia, R., White, T. E., (2018) Comparing colors using visual models.
Behavioral Ecology, ary017 doi: <a href='https://doi.org/10.1093/beheco/ary017'>10.1093/beheco/ary017</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>sicalis</span>)
<span class='no'>tcs.sicalis.C</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>sicalis</span>)), <span class='st'>"C"</span>)
<span class='no'>tcs.sicalis.T</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>sicalis</span>)), <span class='st'>"T"</span>)
<span class='no'>tcs.sicalis.B</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='fu'><a href='colspace.html'>colspace</a></span>(<span class='fu'><a href='vismodel.html'>vismodel</a></span>(<span class='no'>sicalis</span>)), <span class='st'>"B"</span>)
<span class='fu'>voloverlap</span>(<span class='no'>tcs.sicalis.T</span>, <span class='no'>tcs.sicalis.B</span>)
<span class='fu'>voloverlap</span>(<span class='no'>tcs.sicalis.T</span>, <span class='no'>tcs.sicalis.C</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='no'>T</span>)
<span class='fu'>voloverlap</span>(<span class='no'>tcs.sicalis.T</span>, <span class='no'>tcs.sicalis.C</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='no'>T</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq_len</a></span>(<span class='fl'>3</span>))
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Rafael Maia <a href='mailto:rm72@zips.uakron.edu'>rm72@zips.uakron.edu</a>, with code from Sebastien Villeger</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rafael Maia, Thomas White, Hugo Gruson, John Endler, Chad Eliason, Pierre-Paul Bitton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '1988255e7e235678bc3c7f1b86b9ecc5',
    indexName: 'rafaelmaia_pavo',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

